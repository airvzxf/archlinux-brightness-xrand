# Maintainer: Israel Roldan <israel.alberto.rv@gmail.com>

# Custom variables
_name='brightness-xrandr'
_version='1.0.0'
_git_owner='airvzxf'
_git_repository="archlinux-${_name}"

# Custom variables | Auto generated
_downloaded_name="${_git_repository}-${_version}"

# PKGBUILD variables
pkgname="${_name}"
pkgver="${_version}"
pkgrel=1
pkgdesc="It changes the brightness using the command 'xrandr'."
arch=(x86_64)
url="https://github.com/${_git_owner}/${_git_repository}"
license=(GPL3)
depends=(bash
  xorg-xrandr
  grep
  coreutils
  sed
  bc)
source=("${_downloaded_name}.tar.gz::${url}/archive/refs/tags/v${pkgver}.tar.gz")
md5sums=(SKIP)
# PGP: Israel Roldan (airvzxf) <israel.alberto.rv@gmail.com>, https://github.com/airvzxf.gpg
validpgpkeys=('63ADA633FE7468630D9BC56175530B8B9F74CF3A')

# PKGBUILD functions
package() {
  cd "${srcdir}/${_downloaded_name}" || return
  #install -Dm644 LICENSE "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
  install -Dm644 README.md "${pkgdir}/usr/share/doc/${pkgname}/README.md"

  cd "src" || return
  install -Dm755 "${pkgname}" "${pkgdir}/usr/bin/${pkgname}"
}
